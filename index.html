<!--
  FILE: index.html
  PURPOSE: HolaTube Launch Frontend (Single-file starter)
  HOW TO USE:
    1) Create GitHub repo, add this file as index.html
    2) Deploy to Vercel/Netlify (auto-publish)
    3) Replace TODO endpoints (AUTH, API, STORAGE, PAYMENTS)
    4) Use this as main public site (connect backend for full features)

  NOTES:
    - This is a comprehensive frontend UI: homepage, signup/login modal,
      affiliate generator, wallet, subscription checkout placeholders,
      KYC uploader UI, Creator Hub, Admin link, HolaBot widget (UI only),
      Creator Support Ticket demo, Policies page modal, Editor Studio placeholder.
    - Sensitive admin/owner pages must be protected server-side (NOT via JS).
    - See inline TODO comments for backend integration points.
-->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HolaTube ‚Äî Create ¬∑ Earn ¬∑ Grow</title>
  <meta name="description" content="HolaTube ‚Äî AI-powered creator ecosystem. Upload, monetize, affiliate, and grow." />
  <link rel="icon" href="https://i.ibb.co/HTmgqXLh/Picsart-25-11-04-05-36-14-228.png" />
  <style>
    /* Minimal, clean UI ‚Äî single-file styles */
    :root{
      --bg:#0f1724; --card:#0b1220; --muted:#9db0c6; --accent:#06b6d4; --accent2:#7c3aed;
      --success:#10b981; --danger:#ef4444; --glass: rgba(255,255,255,0.04);
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;color:#e6f6ff;background:linear-gradient(180deg,#071025 0%, #04101a 100%)}
    a{color:var(--accent)}
    .wrap{max-width:var(--maxw);margin:20px auto;padding:18px}
    header{display:flex;align-items:center;gap:12px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#02111a}
    h1{margin:0;font-size:20px}
    .lead{color:var(--muted);font-size:13px}

    nav{margin-left:auto;display:flex;gap:8px;align-items:center}
    .btn{padding:8px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:700;background:transparent;color:#dff6ff}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#02111a}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid var(--glass);border-radius:12px;padding:14px;box-shadow:0 8px 40px rgba(2,8,18,0.6)}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:16px;margin-top:18px}
    .hero{display:flex;gap:16px;align-items:center}
    .hero-left{flex:1}
    .stats{display:flex;gap:8px;margin-top:12px}
    .stat{padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);font-size:13px;color:var(--muted)}

    .plans{display:flex;gap:12px;margin-top:18px}
    .plan{flex:1;padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.015),transparent);border:1px solid rgba(255,255,255,0.02)}
    .badge{background:var(--accent);color:#02111a;padding:6px 10px;border-radius:999px;font-weight:800;display:inline-block}

    input,select,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#dff6ff;outline:none}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    small{color:var(--muted)}

    .list{display:flex;flex-direction:column;gap:8px}
    footer{margin-top:22px;color:var(--muted);text-align:center;padding-bottom:24px}

    /* Creator hub */
    .creator-grid{display:grid;grid-template-columns:1fr 300px;gap:12px}
    .review-list{display:flex;flex-direction:column;gap:8px;max-height:220px;overflow:auto;padding-right:6px}

    /* HolaBot widget */
    #hbBtn{position:fixed;right:18px;bottom:18px;width:64px;height:64px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));border:none;color:#02111a;font-size:26px;cursor:pointer;z-index:9998;box-shadow:0 8px 30px rgba(2,8,18,0.6)}
    #hbModal{display:none;position:fixed;right:18px;bottom:94px;width:420px;max-width:calc(100% - 32px);border-radius:12px;background:#071427;border:1px solid rgba(255,255,255,0.04);box-shadow:0 20px 80px rgba(2,8,18,0.9);z-index:9999}

    /* responsive */
    @media (max-width:980px){
      .grid{grid-template-columns:1fr}
      .creator-grid{grid-template-columns:1fr}
      .plans{flex-direction:column}
    }
    /* small helpers */
    .muted{color:var(--muted)}
    .flex{display:flex;gap:8px;align-items:center}
    .hr{height:1px;background:rgba(255,255,255,0.02);margin:12px 0;border-radius:6px}
    .link{color:var(--accent);cursor:pointer}
    .pill{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--muted);font-size:13px}
    .danger{color:var(--danger)}
    .success{color:var(--success)}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo">HT</div>
        <div>
          <h1>HolaTube ‚Äî Create ¬∑ Earn ¬∑ Grow</h1>
          <div class="lead">AI-powered creator ecosystem ‚Ä¢ Owner: Prakash C. Sharma</div>
        </div>
      </div>

      <nav>
        <a class="link" onclick="openPolicies()">Policies</a>
        <a class="link" onclick="openCreatorHub()">Creator Hub</a>
        <button class="btn btn-primary" onclick="openAuthModal()">Sign Up / Login</button>
      </nav>
    </header>

    <!-- MAIN GRID -->
    <div class="grid">
      <!-- LEFT: Main content -->
      <main>
        <section class="card hero">
          <div class="hero-left">
            <h2 style="margin:0;color:var(--accent)">HolaTube ‚Äî Build your creator business</h2>
            <p class="muted">Upload videos, generate affiliate HolaLinks, earn via wallet, use HolaBot AI, and expand globally.</p>

            <div class="stats">
              <div class="stat">üí∏ <b id="stat-creators">5000+</b> Creators</div>
              <div class="stat">üé• <b id="stat-uploads">120k+</b> Uploads</div>
              <div class="stat">üåç <b id="stat-countries">25</b> Countries</div>
            </div>

            <div class="plans" aria-hidden="false">
              <div class="plan">
                <div class="badge">BASIC</div>
                <h3 style="margin:8px 0">‚Çπ99 / month</h3>
                <small class="muted">Basic tools ‚Ä¢ 50% platform cut</small>
                <div style="margin-top:8px"><button class="btn" onclick="startCheckout('basic')">Buy ‚Çπ99</button></div>
              </div>
              <div class="plan">
                <div class="badge">PREMIUM</div>
                <h3 style="margin:8px 0">‚Çπ950 / month</h3>
                <small class="muted">Premium tools ‚Ä¢ lower platform cut</small>
                <div style="margin-top:8px"><button class="btn" onclick="startCheckout('premium')">Buy ‚Çπ950</button></div>
              </div>
              <div class="plan">
                <div class="badge">ELITE</div>
                <h3 style="margin:8px 0">‚Çπ9500 / month</h3>
                <small class="muted">Elite access ‚Ä¢ 45% platform cut</small>
                <div style="margin-top:8px"><button class="btn btn-primary" onclick="startCheckout('elite')">Buy ‚Çπ9,500</button></div>
              </div>
            </div>
          </div>

          <div style="width:320px">
            <div style="display:flex;flex-direction:column;gap:8px">
              <div class="card">
                <b>Wallet</b>
                <div style="font-weight:900;font-size:20px;margin-top:8px" id="wallet-balance">‚Çπ0.00</div>
                <small class="muted">Withdrawals: admin approved (demo)</small>
                <div style="margin-top:8px" class="flex">
                  <button class="btn" onclick="requestWithdraw()">Request Withdraw</button>
                  <button class="btn" onclick="openWalletTopUp()">Add Funds</button>
                </div>
              </div>

              <div class="card">
                <b>Affiliate Link Generator</b>
                <small class="muted">Paste product link ‚Üí choose commission ‚Üí Generate HolaLink</small>
                <div style="margin-top:8px">
                  <input id="input-url" placeholder="Paste product URL (Amazon/Flipkart/other)"/>
                  <select id="input-comm" style="margin-top:8px">
                    <option value="5">5%</option><option value="10">10%</option><option value="15">15%</option><option value="20">20%</option><option value="50">50%</option>
                  </select>
                  <div style="margin-top:8px"><button class="btn btn-primary" onclick="generateAff()">Generate HolaLink</button></div>
                  <div id="aff-result" style="margin-top:10px;color:var(--muted)">No links yet.</div>
                </div>
              </div>

              <div class="card" style="text-align:center;">
                <small class="muted">Need help? Click HolaBot</small><br>
                <button class="btn btn-primary" style="margin-top:8px" onclick="toggleHB()">Open HolaBot</button>
              </div>
            </div>
          </div>
        </section>

        <div style="height:12px"></div>

        <section class="card">
          <h3 style="margin:0">Quick Start Checklist</h3>
          <div class="hr"></div>
          <ol style="color:var(--muted);margin:0 0 0 18px;padding:0 6px 8px 6px">
            <li>Deploy this static site to Vercel / Netlify (GitHub repo).</li>
            <li>Connect backend: Auth, DB (Firestore/Mongo), Storage (S3/Firebase).</li>
            <li>Enable payments (Razorpay/Stripe sandbox) and webhooks.</li>
            <li>Implement KYC microservice & secure storage (encrypted).</li>
            <li>Configure HolaBot backend (GPT / local model + moderation). </li>
          </ol>
          <div class="hr"></div>
          <small class="muted">Tip: Start with Firebase for auth + storage to move fast.</small>
        </section>

        <section class="card" style="margin-top:12px">
          <h3 style="margin:0">Creator Support & Tickets</h3>
          <div class="hr"></div>
          <p class="muted">Submit appeals, monetization requests, or content reviews here.</p>
          <form onsubmit="createTicket(event)" style="display:flex;flex-direction:column;gap:8px">
            <input id="tname" placeholder="Your name (creator)"/>
            <input id="temail" placeholder="Email associated with account"/>
            <select id="ttype"><option>Appeal</option><option>Monetization</option><option>Content Review</option><option>Payment</option></select>
            <textarea id="tmsg" rows="4" placeholder="Describe your issue (include links/timestamps)"></textarea>
            <div class="flex">
              <button class="btn btn-primary" type="submit">Create Ticket</button>
              <small class="muted">Processing time: 24‚Äì72 hrs (priority for Top creators)</small>
            </div>
          </form>
        </section>

        <section class="card" style="margin-top:12px">
          <h3 style="margin:0">Editor Studio (Placeholder)</h3>
          <div class="hr"></div>
          <p class="muted">HolaTube Editor Studio (web-based) ‚Äî AI-assisted editor, watermark for non-subscribers, export & templates.</p>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" onclick="openEditor()">Open Editor Studio</button>
            <button class="btn" onclick="openEditorTemplates()">Templates</button>
          </div>
          <small class="muted">Editor requires backend rendering & cloud encoding ‚Äî TODO integrate Runway/FFmpeg/Cloud render.</small>
        </section>

        <section class="card" style="margin-top:12px">
          <h3 style="margin:0">Admin / Owner (DO NOT expose publicly)</h3>
          <div class="hr"></div>
          <p class="muted">Owner-only actions: approve payouts, manage policies, view audit logs, emergency lockdown.</p>
          <div class="flex" style="margin-top:8px">
            <button class="btn danger" onclick="alert('Admin page: Protect server-side')">Open Admin (demo)</button>
          </div>
        </section>
      </main>

      <!-- RIGHT: Creator hub / Leaderboard -->
      <aside>
        <div class="card">
          <h3 style="margin:0">Top 10 Leaderboard</h3>
          <div class="hr"></div>
          <div id="leaderboard">
            <!-- dynamic -->
          </div>
          <div style="height:8px"></div>
          <div class="hr"></div>
          <h4 style="margin:6px 0 0">HolaCoin ‚Ä¢ Rewards</h4>
          <small class="muted">Activity rewards, referral earnings, watch tasks convert to HolaCoins.</small>
          <div style="margin-top:8px" class="pill">1 HolaCoin = ‚Çπ0.5 (configurable)</div>
        </div>

        <div class="card" style="margin-top:12px">
          <h4 style="margin:0">Quick Actions</h4>
          <div style="margin-top:8px;display:flex;flex-direction:column;gap:8px">
            <button class="btn" onclick="openKYC()">Complete KYC</button>
            <button class="btn" onclick="openPolicies()">Read Policies</button>
            <button class="btn" onclick="openCreatorHub()">Creator Hub</button>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <h4 style="margin:0">Recent Activity</h4>
          <div class="review-list" id="recentActivity" style="margin-top:8px">
            <div class="pill">Priya earned ‚Çπ120 via affiliate</div>
            <div class="pill">Aman uploaded new video (3:42)</div>
            <div class="pill">Meena referral +100 HolaCoins</div>
          </div>
        </div>
      </aside>
    </div>

    <footer>
      ¬© 2025 HolaTube ‚Ä¢ All Rights Reserved ‚Ä¢ Secure payments via integrated gateways (configure)
    </footer>
  </div>

  <!-- HolaBot Widget -->
  <button id="hbBtn" aria-label="HolaBot" title="HolaBot">ü§ñ</button>
  <div id="hbModal" role="dialog" aria-hidden="true">
    <header style="display:flex;align-items:center;justify-content:space-between;padding:12px;border-bottom:1px solid rgba(255,255,255,0.02)">
      <div style="display:flex;gap:10px;align-items:center">
        <div style="width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#02111a">HB</div>
        <div>
          <div style="font-weight:700;color:#dff6ff">HolaBot Assistant</div>
          <div style="font-size:13px;color:var(--muted)">Ask about rewards, tickets, or policies</div>
        </div>
      </div>
      <button style="background:transparent;border:none;color:#dff6ff;font-size:18px;padding:8px;cursor:pointer" onclick="toggleHB()">‚úï</button>
    </header>
    <div style="padding:12px;color:#dff6ff">
      <div style="display:flex;gap:8px;align-items:center;margin-bottom:8px">
        <input id="hbQ" placeholder="Ask HolaBot: e.g. How to qualify for Rank 1?" style="flex:1;border-radius:8px;padding:10px;background:#021025;border:1px solid rgba(255,255,255,0.03);color:#dff6ff" />
        <button class="btn btn-primary" onclick="askHolaBot()">Ask</button>
      </div>
      <div id="hbResp" style="min-height:80px;padding:10px;border-radius:8px;background:rgba(255,255,255,0.02);color:#dff6ff"></div>
    </div>
  </div>

  <!-- MODALS (Auth, Policies, Creator Hub, Editor, KYC) -->
  <div id="modal-root" style="display:none;position:fixed;inset:0;z-index:9999;align-items:center;justify-content:center;padding:18px"></div>

  <script>
    /* ---------- Demo client state (localStorage-based) - replace with real backend ---------- */
    const state = {
      wallet: Number(localStorage.getItem('holatube_wallet') || 0),
      links: JSON.parse(localStorage.getItem('holatube_links') || '[]'),
      leaderboard: JSON.parse(localStorage.getItem('holatube_leaderboard') || '["CreatorA","CreatorB","CreatorC","CreatorD"]'),
      tickets: JSON.parse(localStorage.getItem('holatube_tickets') || '[]'),
      kycDone: localStorage.getItem('holatube_kyc') === 'true'
    };

    // initialize UI values
    document.getElementById('wallet-balance').innerText = `‚Çπ${(state.wallet).toFixed(2)}`;
    document.getElementById('stat-creators').innerText = 5000;
    document.getElementById('stat-uploads').innerText = 120000;
    document.getElementById('stat-countries').innerText = 25;

    function refreshLeaderboard(){
      const el = document.getElementById('leaderboard');
      el.innerHTML = '';
      state.leaderboard.forEach((name,i)=> {
        const d = document.createElement('div'); d.style.display='flex'; d.style.justifyContent='space-between'; d.style.alignItems='center'; d.style.padding='8px 0';
        d.innerHTML = `<div style="display:flex;gap:10px;align-items:center"><div style="width:36px;height:36px;border-radius:8px;background:rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;font-weight:800">${i+1}</div><div><b>${name}</b><div class="muted" style="font-size:12px">3.${i}M watch min ‚Ä¢ Clean</div></div></div><div class="pill">Rank ${i+1}</div>`;
        el.appendChild(d);
      });
    }
    refreshLeaderboard();

    /* ---------- Affiliate link generator ---------- */
    function generateAff(){
      const url = document.getElementById('input-url').value.trim();
      const comm = document.getElementById('input-comm').value;
      const out = document.getElementById('aff-result');
      if(!url){ out.innerText = 'Paste a valid product URL.'; return; }
      // NOTE: In production, call backend to create a tracked link and shorten it.
      const id = Math.random().toString(36).slice(2,10);
      const holalink = `${location.origin}/r/${id}?u=${encodeURIComponent(url)}&c=${comm}`;
      state.links.unshift({id, url, comm, holalink, created:Date.now()});
      localStorage.setItem('holatube_links', JSON.stringify(state.links));
      out.innerHTML = `Generated HolaLink: <a href="${holalink}" target="_blank" style="color:var(--accent)">${holalink}</a>`;
    }

    /* ---------- Wallet actions (demo) ---------- */
    function requestWithdraw(){
      if(state.wallet < 100){ alert('Minimum withdraw is ‚Çπ100 (demo).'); return; }
      // TODO: In production, send withdraw request to backend for admin approval
      alert('Withdraw request created (demo). Admin will approve manually.');
      state.wallet = 0;
      localStorage.setItem('holatube_wallet', state.wallet);
      document.getElementById('wallet-balance').innerText = `‚Çπ${state.wallet.toFixed(2)}`;
    }
    function openWalletTopUp(){
      // demo top-up prompt
      const amt = Number(prompt('Enter amount to add (demo)', '100'));
      if(!amt || amt <= 0) return;
      // TODO: Integrate Razorpay/Stripe checkout here
      state.wallet += amt;
      localStorage.setItem('holatube_wallet', state.wallet);
      document.getElementById('wallet-balance').innerText = `‚Çπ${state.wallet.toFixed(2)}`;
      alert('Top-up demo complete. Replace with real payment gateway.');
    }

    /* ---------- Tickets ---------- */
    function createTicket(e){
      e && e.preventDefault();
      const n = document.getElementById('tname').value.trim();
      const em = document.getElementById('temail').value.trim();
      const t = document.getElementById('ttype').value;
      const m = document.getElementById('tmsg').value.trim();
      if(!n || !em || !m){ alert('Complete the form.'); return; }
      state.tickets.push({id:Date.now(), name:n, email:em, type:t, msg:m, status:'open', created:Date.now()});
      localStorage.setItem('holatube_tickets', JSON.stringify(state.tickets));
      alert('Ticket created (demo). We will contact you at ' + em);
      document.getElementById('tname').value='';document.getElementById('temail').value='';document.getElementById('tmsg').value='';
    }

    /* ---------- Checkout placeholder ---------- */
    function startCheckout(plan){
      // TODO: Launch real checkout (Razorpay/Stripe) & on success call backend subscription activation
      alert(`Checkout started for plan: ${plan} (demo). Replace with payment gateway integration.`);
    }

    /* ---------- Editor Studio placeholder ---------- */
    function openEditor(){
      showModal('Editor Studio ‚Äî Demo','<p class="muted">Editor Studio is a web-based AI editor. This is a placeholder UI.</p><p class="muted">TODO: Integrate cloud render, templates, watermark logic (watermark only if no Elite subscription).</p><div style="margin-top:8px"><button class="btn" onclick="closeModal()">Close</button></div>');
    }
    function openEditorTemplates(){
      showModal('Editor Templates','<p class="muted">Templates marketplace ‚Äî connect real marketplace API to sell templates and assets.</p><div style="margin-top:8px"><button class="btn" onclick="closeModal()">Close</button></div>');
    }

    /* ---------- KYC UI (frontend only demo) ---------- */
    function openKYC(){
      const html = `
        <h3>KYC / Creator Verification (Demo)</h3>
        <p class="muted">Required for monetization ‚Äî upload any 2 documents (demo only)</p>
        <div style="display:flex;flex-direction:column;gap:8px">
          <label>Document 1 (PAN / Passport / 10th Marksheet)</label><input id="doc1" type="file" />
          <label>Document 2 (Driving license / Passport / Aadhaar)</label><input id="doc2" type="file" />
          <label>Live selfie verification (demo)</label><input id="selfie" type="file" />
          <div style="display:flex;gap:8px;margin-top:8px"><button class="btn btn-primary" onclick="submitKYC()">Submit KYC (demo)</button><button class="btn" onclick="closeModal()">Cancel</button></div>
        </div>`;
      showModal('KYC', html);
    }
    function submitKYC(){
      // TODO: upload files to secure backend, call verification service (human/AI)
      state.kycDone = true;
      localStorage.setItem('holatube_kyc', 'true');
      alert('KYC submitted (demo). In production, run human+AI checks, store encrypted.');
      closeModal();
    }

    /* ---------- Policies modal ---------- */
    function openPolicies(){
      const html = `
        <h3>HolaTube ‚Äî Policies Summary</h3>
        <ul style="color:var(--muted)">
          <li><b>Sexual Content:</b> Zero tolerance. Remove & ban.</li>
          <li><b>Child Safety:</b> COPPA rules ‚Äî no minors sexual content.</li>
          <li><b>Copyright:</b> DMCA takedown process ‚Äî strikes & appeals.</li>
          <li><b>AI Usage:</b> AI-generated content must be labeled and limited by plan.</li>
          <li><b>Monetization:</b> KYC mandatory. Platform cut applied.</li>
        </ul>
        <div style="margin-top:8px"><button class="btn" onclick="closeModal()">Close</button></div>
      `;
      showModal('Policies & Guidelines', html, 760);
    }

    /* ---------- Creator Hub ---------- */
    function openCreatorHub(){
      const html = `
        <h3>Creator Hub</h3>
        <p class="muted">Welcome to Creator Hub ‚Äî tools, analytics, affiliate dashboard, and support.</p>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn" onclick="alert('Open Analytics - TODO')">Analytics</button>
          <button class="btn" onclick="alert('Open Affiliate Dashboard - TODO')">Affiliate Dashboard</button>
          <button class="btn" onclick="alert('Open Achievements - TODO')">Achievements</button>
        </div>
        <div style="margin-top:12px;color:var(--muted)">
          <b>Note:</b> Full Creator Hub requires backend APIs to fetch user metrics, referrals, and earnings.
        </div>
        <div style="margin-top:8px"><button class="btn" onclick="closeModal()">Close</button></div>
      `;
      showModal('Creator Hub', html, 780);
    }

    /* ---------- Auth modal (demo flow) ---------- */
    function openAuthModal(){
      const html = `
        <h3>Sign Up / Login (Demo)</h3>
        <p class="muted">Recommended: Google Sign-In / OTP Auth + WebAuthn for owner.</p>
        <div style="display:flex;flex-direction:column;gap:8px">
          <button class="btn btn-primary" onclick="demoGoogleSignIn()">Continue with Google (demo)</button>
          <div style="height:8px"></div>
          <label>Email</label><input id="authEmail" placeholder="you@domain.com" />
          <label>Phone (with country code)</label><input id="authPhone" placeholder="+91 98765 43210" />
          <div style="display:flex;gap:8px;margin-top:8px"><button class="btn" onclick="demoEmailLogin()">Sign up / Login (demo)</button><button class="btn" onclick="closeModal()">Cancel</button></div>
        </div>
      `;
      showModal('Authentication', html);
    }
    function demoGoogleSignIn(){
      // TODO: Real Google OAuth integration (client-side + backend)
      alert('Google Sign-In demo. Implement OAuth 2.0 + backend session.');
      closeModal();
    }
    function demoEmailLogin(){
      const email = document.getElementById('authEmail').value.trim();
      if(!email) { alert('Enter email'); return; }
      localStorage.setItem('holatube_user_email', email);
      alert('Logged in as ' + email + ' (demo). Replace with secure auth on backend.');
      closeModal();
    }

    /* ---------- HolaBot demo logic (UI only) ---------- */
    const hbBtn = document.getElementById('hbBtn');
    const hbModal = document.getElementById('hbModal');
    function toggleHB(){
      hbModal.style.display = hbModal.style.display === 'block' ? 'none' : 'block';
      hbModal.setAttribute('aria-hidden', hbModal.style.display !== 'block');
      if(hbModal.style.display === 'block') document.getElementById('hbQ').focus();
    }
    hbBtn.addEventListener('click', toggleHB);
    function askHolaBot(){
      const q = document.getElementById('hbQ').value.trim();
      const r = document.getElementById('hbResp');
      if(!q){ r.innerText = 'Please ask a question.'; return; }
      r.innerHTML = '<div class="muted">Processing... (demo)</div>';
      setTimeout(()=> {
        let out = '';
        if(/rank|top/i.test(q)) out = 'Top creators earn weekly rewards. Keep zero strikes and high watch time.';
        else if(/withdraw|wallet/i.test(q)) out = 'Withdrawals require KYC and admin approval (demo).';
        else if(/kyc|verify/i.test(q)) out = 'KYC requires 2 documents + live selfie. Use Creator Hub ‚Üí KYC.';
        else out = 'HolaBot: For account-specific help, open Creator Hub ‚Üí Support ‚Üí Create Ticket.';
        r.innerText = out;
      },600);
    }

    /* ---------- Modal helpers ---------- */
    const modalRoot = document.getElementById('modal-root');
    function showModal(title, html, width=720){
      modalRoot.style.display = 'flex';
      modalRoot.innerHTML = `
        <div style="width:${Math.min(width, window.innerWidth-40)}px;max-height:90vh;overflow:auto;padding:18px;border-radius:12px;background:#071427;border:1px solid rgba(255,255,255,0.04)">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <h3 style="margin:0">${title}</h3>
            <button class="btn" onclick="closeModal()">Close</button>
          </div>
          <div style="color:#dff6ff">${html}</div>
        </div>
      `;
    }
    function closeModal(){ modalRoot.style.display = 'none'; modalRoot.innerHTML = ''; }

    /* ---------- Creator Hub quick open (navigation) ---------- */
    function openCreatorHub(){ openCreatorHubModal(); }
    function openCreatorHubModal(){
      const html = `
        <h3>Creator Hub ‚Äî Demo</h3>
        <p class="muted">This hub contains analytics, wallet, affiliate links, achievements, and support.</p>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn" onclick="alert('Open Analytics - integrate API')">Analytics</button>
          <button class="btn" onclick="alert('Open Creator Feed')">Creator Feed</button>
          <button class="btn" onclick="alert('Open Earnings')">Earnings</button>
        </div>
        <div style="margin-top:12px">
          <b>Links:</b>
          <ul style="color:var(--muted)">${state.links.map(l => `<li><a href="${l.holalink}" target="_blank">${l.holalink}</a> ‚Ä¢ ${l.comm}%</li>`).join('') || '<li class="muted">No links yet</li>'}</ul>
        </div>
      `;
      showModal('Creator Hub', html, 900);
    }

    /* ---------- Simple deep-link handler for /r/:id (hola links demo) ---------- */
    (function handleRoute(){
      const p = location.pathname.split('/').filter(Boolean);
      if(p[0] === 'r' && p[1]){
        // demo: show redirect page
        const id = p[1];
        document.querySelector('.wrap').innerHTML = `<div style="max-width:700px;margin:80px auto;padding:18px" class="card"><h2>HolaLink Redirect</h2><p class="muted">This is a demo redirect page for HolaLink <b>${id}</b>.</p><p class="muted">In production, server will record click ‚Üí redirect to original product URL ‚Üí track conversions.</p><div style="height:12px"></div><a class="btn btn-primary" href="/">Back to HolaTube</a></div>`;
      }
    })();

    /* ---------- Simple functions for pages ---------- */
    function openPolicies(){ openPolicies(); } // no-op (exists above)
    function openEditorTemplates(){ openEditorTemplates(); } // no-op
    function openWalletTopUp(){ openWalletTopUp(); } // defined earlier

    /* ---------- Onload: small init ---------- */
    window.addEventListener('load', ()=> {
      // seed leaderboard if empty
      if(!state.leaderboard || state.leaderboard.length === 0){
        state.leaderboard = ["CreatorA","CreatorB","CreatorC","CreatorD"];
        localStorage.setItem('holatube_leaderboard', JSON.stringify(state.leaderboard));
      }
      refreshLeaderboard();
    });

    /* ---------- Utility: Admin / Owner sensitive notes ---------- */
    // NOTE FOR DEPLOY: Protect owner admin pages on server-side.
    // - Owner keys must never be in client JS.
    // - Use environment variables on server to hold API keys.
    // - Implement server-side verification for payouts and KYC approvals.
  </script>
</body>
</html>

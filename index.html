<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HolaTube â€” App-style Creator Hub (Demo)</title>
  <meta name="description" content="HolaTube â€” YouTube+Shorts+Wallet+HolaCoin + HolaBot â€” Mobile-first demo for GitHub Pages."/>
  <link rel="icon" href="https://i.ibb.co/HTmgqXLh/Picsart-25-11-04-05-36-14-228.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* ====== Base & Theme (Red/White YouTube-like) ====== */
    :root{
      --bg:#fff;
      --card:#fff;
      --text:#111;
      --muted:#6b6b6b;
      --primary:#ff0000; /* YouTube red */
      --accent:#e60000;
      --glass: rgba(0,0,0,0.04);
      --success:#06b875;
      --holacoin:#f59e0b;
      --shadow: 0 8px 28px rgba(2,6,23,0.08);
    }
    [data-theme="dark"]{
      --bg:#071019; --card:#071427; --text:#e6f6ff; --muted:#98b4c6; --glass: rgba(255,255,255,0.03);
      --primary:#ff3b3b; --accent:#ff6b6b; --shadow: 0 10px 50px rgba(0,0,0,0.6);
    }
    *{box-sizing:border-box;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;}
    html,body{height:100%;margin:0;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
    a{color:inherit;text-decoration:none}
    .app{max-width:420px;margin:0 auto;min-height:100vh;padding-bottom:90px}
    header{position:sticky;top:0;z-index:50;background:linear-gradient(90deg,rgba(255,255,255,0.98),rgba(255,255,255,0.96));backdrop-filter:blur(6px);display:flex;align-items:center;gap:12px;padding:10px;border-bottom:1px solid var(--glass)}
    [data-theme="dark"] header{background:linear-gradient(90deg,rgba(7,20,25,0.8),rgba(7,20,25,0.6))}
    .logo{display:flex;align-items:center;gap:10px}
    .logo .mark{width:36px;height:36px;border-radius:8px;background:var(--primary);display:flex;align-items:center;justify-content:center;color:white;font-weight:800}
    .brand{font-weight:800;font-size:1rem}
    .search-btn{margin-left:auto;display:flex;gap:8px;align-items:center}
    button.btn{border:none;padding:8px 12px;border-radius:8px;font-weight:700;cursor:pointer}
    .btn.red{background:var(--primary);color:#fff}
    .btn.ghost{background:transparent;border:1px solid var(--glass)}
    /* ===== main layout ===== */
    .main{padding:12px}
    .row{display:flex;gap:10px;align-items:center}
    .chip{background:var(--card);padding:8px 10px;border-radius:999px;border:1px solid var(--glass);font-weight:700;font-size:13px}
    /* ===== featured / player ===== */
    .player{margin-top:12px;border-radius:12px;overflow:hidden;background:var(--card);box-shadow:var(--shadow);border:1px solid var(--glass)}
    .video-meta{display:flex;justify-content:space-between;align-items:center;padding:10px}
    .title{font-weight:800}
    .sub{color:var(--muted);font-size:13px}
    .actions{display:flex;gap:8px;align-items:center}
    .icon-btn{background:transparent;border:1px solid var(--glass);padding:8px;border-radius:8px;cursor:pointer}
    /* ===== short reels vertical scroller ===== */
    .shorts-wrap{margin-top:14px;height:520px;overflow:auto;border-radius:12px;border:1px solid var(--glass);background:linear-gradient(180deg,rgba(0,0,0,0.02),transparent);padding:6px}
    .short{position:relative;border-radius:10px;overflow:hidden;margin-bottom:10px;background:#000;color:#fff;height:460px;display:flex;align-items:flex-end;justify-content:center}
    .short video{width:100%;height:100%;object-fit:cover;display:block}
    .short .overlay{position:absolute;left:12px;bottom:12px;right:12px;display:flex;justify-content:space-between;align-items:flex-end;gap:12px}
    .creator{display:flex;gap:8px;align-items:center}
    .creator .avatar{width:44px;height:44px;border-radius:999px;background:rgba(255,255,255,0.08);display:flex;align-items:center;justify-content:center;font-weight:800}
    .short-actions{display:flex;flex-direction:column;gap:10px;align-items:center}
    .short-actions button{background:rgba(255,255,255,0.06);border:none;padding:8px;border-radius:12px;color:#fff}
    /* ===== feed list ===== */
    .feed{margin-top:14px;display:flex;flex-direction:column;gap:12px}
    .card{background:var(--card);border-radius:12px;padding:10px;border:1px solid var(--glass);box-shadow:var(--shadow)}
    .thumb{width:100%;height:220px;background:#111;border-radius:8px;overflow:hidden;display:block}
    .meta-row{display:flex;gap:10px;align-items:flex-start;margin-top:8px}
    .meta-row .avatar{width:46px;height:46px;border-radius:999px;background:var(--primary);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800}
    .meta-info{flex:1}
    .subscribe-btn{background:var(--primary);color:#fff;padding:8px 10px;border-radius:8px;font-weight:800;border:none}
    /* ===== wallet bar (bottom) ===== */
    .bottom-bar{position:fixed;left:0;right:0;bottom:0;display:flex;align-items:center;gap:10px;padding:10px;box-shadow:0 -8px 30px rgba(2,6,23,0.06);background:linear-gradient(180deg,rgba(255,255,255,0.98),rgba(255,255,255,0.95));border-top:1px solid var(--glass)}
    [data-theme="dark"] .bottom-bar{background:linear-gradient(180deg,rgba(7,20,25,0.95),rgba(7,20,25,0.9))}
    .wallet{display:flex;gap:8px;align-items:center}
    .coin{background:linear-gradient(90deg,var(--holacoin),#fbbf24);padding:8px 10px;border-radius:999px;color:#02111a;font-weight:800}
    .wallet-balance{font-weight:900}
    /* ===== HolaBot ===== */
    #botBtn{position:fixed;right:16px;bottom:86px;width:62px;height:62px;border-radius:50%;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;color:#fff;font-size:26px;border:none;box-shadow:0 12px 40px rgba(2,6,23,0.18);z-index:999}
    #botWindow{position:fixed;right:16px;bottom:160px;width:360px;max-width:calc(100% - 32px);background:var(--card);border-radius:12px;box-shadow:var(--shadow);display:none;flex-direction:column;overflow:hidden;border:1px solid var(--glass);z-index:999}
    #botWindow header{background:linear-gradient(90deg,var(--primary),var(--accent));color:#fff;padding:10px;display:flex;justify-content:space-between;align-items:center}
    #botWindow .body{padding:10px;height:300px;overflow:auto}
    #botWindow .input{display:flex;border-top:1px solid var(--glass)}
    #botWindow input{flex:1;padding:10px;border:none;outline:none}
    #botWindow button{background:var(--primary);color:#fff;border:none;padding:10px 12px;cursor:pointer}
    /* ===== small screens adjustments ===== */
    @media(min-width:600px){ .app{max-width:720px} .shorts-wrap{height:620px}.thumb{height:320px} }
    /* tiny helpers */
    .muted{color:var(--muted);font-size:13px}
    .center{text-align:center}
  </style>
</head>
<body>
  <div class="app" id="app" data-theme="light">
    <!-- HEADER -->
    <header>
      <div class="logo">
        <div class="mark">HT</div>
        <div>
          <div class="brand">HolaTube</div>
          <div class="muted" style="font-size:12px">Create â€¢ Earn â€¢ Share</div>
        </div>
      </div>

      <div class="search-btn">
        <button class="btn ghost" id="themeToggle" title="Toggle theme"><i class="fa-solid fa-moon"></i></button>
        <button class="btn" id="walletOpen"><i class="fa-solid fa-wallet"></i></button>
      </div>
    </header>

    <main class="main">
      <!-- quick chips -->
      <div class="row" style="margin-bottom:10px">
        <div class="chip">For You</div>
        <div class="chip">Shorts</div>
        <div class="chip">Trending</div>
        <div class="chip">Subscriptions</div>
      </div>

      <!-- LIVE PLAYER (simulate selected video) -->
      <div class="player card" id="playerCard">
        <div style="position:relative;">
          <video id="mainVideo" controls playsinline poster="" style="width:100%;height:auto;display:block;background:#000">
            <source src="https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4" type="video/mp4">
            Your browser doesn't support HTML video.
          </video>
        </div>
        <div class="video-meta">
          <div>
            <div class="title" id="videoTitle">Sample HolaTube Video â€” Demo</div>
            <div class="sub muted">1.2M views â€¢ 2 days ago</div>
          </div>
          <div class="actions">
            <button class="icon-btn" id="likeBtn"><i class="fa-regular fa-thumbs-up"></i> <span id="likeCount">12K</span></button>
            <button class="icon-btn" id="shareBtn"><i class="fa-solid fa-share"></i></button>
            <button class="subscribe-btn subscribe-btn" id="subscribeBtn">Subscribe</button>
          </div>
        </div>
      </div>

      <!-- SHORTS vertical scroller -->
      <h3 style="margin-top:14px;margin-bottom:8px">Shorts</h3>
      <div class="shorts-wrap" id="shortsWrap" aria-label="Shorts list">
        <!-- Shorts items injected by JS -->
      </div>

      <!-- FEED -->
      <h3 style="margin-top:14px;margin-bottom:8px">Recommended</h3>
      <div class="feed" id="feed">
        <!-- Feed injected by JS -->
      </div>
    </main>

    <!-- BOTTOM WALLET BAR -->
    <div class="bottom-bar">
      <div style="display:flex;gap:10px;align-items:center">
        <div class="wallet">
          <div class="coin">ðŸª™ HolaCoin</div>
        </div>
        <div>
          <div class="wallet-balance" id="walletBalance">â‚¹0</div>
          <div class="muted" style="font-size:12px">Balance â€¢ HolaCoin: <span id="holacoinBalance">0</span></div>
        </div>
      </div>

      <div style="margin-left:auto;display:flex;gap:8px">
        <button class="btn ghost" id="earnBtn"><i class="fa-solid fa-gifts"></i> Earn</button>
        <button class="btn red" id="withdrawBtn">Withdraw</button>
      </div>
    </div>

    <!-- HolaBot Assistant -->
    <button id="botBtn" aria-label="HolaBot">ðŸ¤–</button>
    <div id="botWindow" role="dialog" aria-hidden="true">
      <header>
        <div style="display:flex;gap:10px;align-items:center">
          <div style="width:36px;height:36px;border-radius:8px;background:#fff;color:var(--primary);display:flex;align-items:center;justify-content:center;font-weight:800">HB</div>
          <div>
            <div style="font-weight:800">HolaBot Assistant</div>
            <div class="muted" style="font-size:12px">Ask about wallet, shorts, rank, or policies</div>
          </div>
        </div>
        <button style="background:transparent;border:none;color:#fff;font-size:20px" id="botClose">âœ•</button>
      </header>
      <div class="body" id="botBody">
        <div class="muted">Hi! Type a question. (Demo â€” keyword-based)</div>
      </div>
      <div class="input">
        <input id="botInput" placeholder="e.g. How to earn HolaCoin?">
        <button id="botSend">Send</button>
      </div>
    </div>
  </div>

  <script>
    /* ========= Demo data & state ========= */
    const state = {
      wallet: 0, // INR
      holacoin: 0,
      likes: 12000,
      subscribed: false,
      adminCutPercent: 55, // platform takes 55% by default (simulated)
      shorts: [
        {id:1, src:'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4', creator:'Ravi', title:'Short: Bloom', likes:3400},
        {id:2, src:'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4', creator:'Priya', title:'Short: Sunset', likes:4100},
        {id:3, src:'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4', creator:'Anu', title:'Morning Vibes', likes:2100}
      ],
      feed: [
        {id:'f1', title:'Long demo video â€” HolaTube', thumb:'https://placehold.co/800x450/ff0000/ffffff?text=HolaTube+Video', views:'1.2M', creator:'HolaStudio'},
        {id:'f2', title:'Creator Interview', thumb:'https://placehold.co/800x450/e60000/ffffff?text=Interview', views:'320k', creator:'CreatorX'}
      ]
    };

    // load saved
    try {
      const saved = JSON.parse(localStorage.getItem('holatube_demo_v1')||'{}');
      if(saved.wallet!=null) state.wallet = saved.wallet;
      if(saved.holacoin!=null) state.holacoin = saved.holacoin;
      if(saved.subscribed!=null) state.subscribed = saved.subscribed;
    }catch(e){}

    /* ========= UI helpers ========= */
    const holacoinSpan = document.getElementById('holacoinBalance');
    const walletSpan = document.getElementById('walletBalance');
    const likeCount = document.getElementById('likeCount');
    const subscribeBtn = document.getElementById('subscribeBtn');

    function saveState(){ localStorage.setItem('holatube_demo_v1', JSON.stringify({wallet:state.wallet,holacoin:state.holacoin,subscribed:state.subscribed})); }
    function renderWallet(){
      walletSpan.innerText = 'â‚¹' + state.wallet;
      holacoinSpan.innerText = state.holacoin;
      likeCount.innerText = (state.likes).toLocaleString();
      subscribeBtn.innerText = state.subscribed ? 'Subscribed' : 'Subscribe';
      subscribeBtn.style.background = state.subscribed ? 'var(--muted)' : 'var(--primary)';
      subscribeBtn.disabled = state.subscribed;
    }

    /* ========= Shorts + Feed rendering ========= */
    const shortsWrap = document.getElementById('shortsWrap');
    const feedWrap = document.getElementById('feed');

    function makeShortEl(s){
      const div = document.createElement('div');
      div.className = 'short';
      div.innerHTML = `
        <video src="${s.src}" playsinline loop muted preload="metadata"></video>
        <div class="overlay">
          <div class="creator">
            <div class="avatar creator-avatar" title="${s.creator}">${s.creator[0]||'U'}</div>
            <div style="display:flex;flex-direction:column">
              <div style="font-weight:800">${s.creator}</div>
              <div class="muted" style="font-size:12px">${s.title}</div>
            </div>
          </div>
          <div class="short-actions">
            <button title="Like" onclick="shortLike(${s.id})"><i class="fa-regular fa-heart"></i></button>
            <button title="Share"><i class="fa-solid fa-share"></i></button>
            <button title="Earn" onclick="watchEarn(0.02)">ðŸ’°</button>
          </div>
        </div>
      `;
      // auto-play/pause on visibility
      const v = div.querySelector('video');
      v.addEventListener('click', ()=>{ v.paused? v.play() : v.pause() });
      return div;
    }

    function renderShorts(){
      shortsWrap.innerHTML='';
      state.shorts.forEach(s => shortsWrap.appendChild(makeShortEl(s)));
    }

    function makeFeedEl(f){
      const el = document.createElement('div');
      el.className = 'card';
      el.innerHTML = `
        <a class="thumb" href="#" onclick="openVideo('${f.id}',event)">
          <img src="${f.thumb}" style="width:100%;height:100%;object-fit:cover;display:block" alt="${f.title}">
        </a>
        <div class="meta-row">
          <div class="avatar">${f.creator[0]||'C'}</div>
          <div class="meta-info">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <div style="font-weight:800">${f.title}</div>
                <div class="muted" style="font-size:13px">${f.creator} â€¢ ${f.views} views</div>
              </div>
              <div>
                <button class="subscribe-btn" onclick="subscribeQuick('${f.creator}')">Subscribe</button>
              </div>
            </div>
          </div>
        </div>
      `;
      return el;
    }

    function renderFeed(){
      feedWrap.innerHTML = '';
      state.feed.forEach(f => feedWrap.appendChild(makeFeedEl(f)));
    }

    /* ========= Actions ========= */
    function shortLike(id){
      state.likes += 1;
      saveState();
      renderWallet();
      alert('Liked short! Demo only.');
    }

    function watchEarn(amountINR){
      // convert to holacoin: 1 holacoin = 0.5 INR (demo)
      const coins = Math.round((amountINR / 0.5) * 100)/100;
      state.holacoin = Math.round((state.holacoin + coins) *100)/100;
      state.wallet = Math.round((state.wallet + amountINR) *100)/100;
      saveState();
      renderWallet();
      toast(`You earned â‚¹${amountINR.toFixed(2)} (${coins} HC)`);
    }

    function openVideo(id,e){
      e.preventDefault();
      // small demo â€” change main video meta
      document.getElementById('mainVideo').src = 'https://interactive-examples.mdn.mozilla.net/media/cc0-videos/flower.mp4';
      document.getElementById('videoTitle').innerText = 'Playing: ' + (state.feed.find(f=>f.id===id)?.title || 'HolaTube Demo');
      window.scrollTo({top:0,behavior:'smooth'});
    }

    function subscribeQuick(name){
      state.subscribed = true;
      saveState();
      renderWallet();
      toast('Subscribed â€” demo: perks unlocked ( HolaBot Pro )');
    }

    /* ====== simple toast ====== */
    function toast(msg){
      const t = document.createElement('div');
      t.innerText = msg;
      Object.assign(t.style,{position:'fixed',left:'50%',transform:'translateX(-50%)',bottom:'160px',background:'#111',color:'#fff',padding:'10px 14px',borderRadius:'10px',zIndex:9999,opacity:0,transition:'all 240ms'});
      document.body.appendChild(t);
      requestAnimationFrame(()=> t.style.opacity=1);
      setTimeout(()=> { t.style.opacity=0; setTimeout(()=>t.remove(),240); },2000);
    }

    /* ========= Wallet actions ========= */
    document.getElementById('earnBtn').addEventListener('click', ()=> {
      watchEarn(1); // demo small earning
    });
    document.getElementById('withdrawBtn').addEventListener('click', ()=> {
      const min = 100;
      if(state.wallet < min){ alert('Minimum withdraw â‚¹' + min + ' (demo)'); return; }
      // simulate admin approval
      const confirmMsg = confirm(`Request withdraw â‚¹${state.wallet}? (Demo: will reset wallet to 0)`);
      if(confirmMsg){
        state.wallet = 0; state.holacoin = 0;
        saveState(); renderWallet();
        alert('Withdraw requested (demo). In production, admin approves and pays out.');
      }
    });

    /* ========= Subscribe + Likes buttons ========= */
    document.getElementById('subscribeBtn').addEventListener('click', ()=> {
      state.subscribed = true;
      saveState(); renderWallet();
      toast('Subscribed! (demo)');
    });
    document.getElementById('likeBtn').addEventListener('click', ()=>{
      state.likes += 1; saveState(); renderWallet(); toast('Liked!');
    });
    document.getElementById('shareBtn').addEventListener('click', ()=>{
      navigator.clipboard?.writeText(location.href).then(()=>toast('Link copied to clipboard'));
    });

    /* ========= HolaBot widget (keyword-based demo) ========= */
    const botBtn = document.getElementById('botBtn');
    const botWindow = document.getElementById('botWindow');
    const botClose = document.getElementById('botClose');
    const botSend = document.getElementById('botSend');
    const botInput = document.getElementById('botInput');
    const botBody = document.getElementById('botBody');

    botBtn.addEventListener('click', ()=>{ botWindow.style.display='flex'; botWindow.setAttribute('aria-hidden','false'); botInput.focus(); });
    botClose.addEventListener('click', ()=>{ botWindow.style.display='none'; botWindow.setAttribute('aria-hidden','true'); });

    botSend.addEventListener('click', handleBot);
    botInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') handleBot(); });

    function handleBot(){
      const q = botInput.value.trim();
      if(!q) return;
      appendBot('user', q);
      // simple keyword replies
      let resp = "HolaBot can't access accounts in demo. Try: 'earn', 'wallet', 'subscribe', 'shorts', 'how to earn holaCoin'";
      const low = q.toLowerCase();
      if(low.includes('earn')) resp = "You can earn by watching shorts, sharing links, referrals, or using HolaTools. Demo: click Earn.";
      else if(low.includes('wallet')) resp = `Your balance is â‚¹${state.wallet.toFixed(2)} and ${state.holacoin} HolaCoin. Withdraws need admin approval (demo).`;
      else if(low.includes('subscribe')) resp = "Subscribe to unlock HolaBot Pro and editor features. (Demo sim)";
      else if(low.includes('how') && low.includes('hola')) resp = "1 HC = â‚¹0.5 in demo. Earn via short views, referrals, or special tasks.";
      else if(low.includes('short')) resp = "Open Shorts area and tap watch; some shorts award HolaCoin in demo.";
      appendBot('bot', resp);
      botInput.value='';
    }

    function appendBot(kind, text){
      const d = document.createElement('div');
      d.style.margin = '8px 0';
      if(kind==='user'){ d.style.textAlign='right'; d.innerHTML = `<div style="display:inline-block;background:rgba(255,255,255,0.06);padding:8px;border-radius:8px;color:var(--text)">${escapeHtml(text)}</div>`; }
      else { d.innerHTML = `<div style="display:inline-block;background:linear-gradient(90deg,var(--primary),var(--accent));padding:8px;border-radius:8px;color:#fff">${escapeHtml(text)}</div>`; }
      botBody.appendChild(d); botBody.scrollTop = botBody.scrollHeight;
    }
    function escapeHtml(s){ return s.replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;'); }

    /* ========= Theme toggle (dark/light) ========= */
    const app = document.getElementById('app');
    const themeToggle = document.getElementById('themeToggle');
    const savedTheme = localStorage.getItem('holat_theme') || 'light';
    app.setAttribute('data-theme', savedTheme);
    updateThemeIcon(savedTheme);
    function updateThemeIcon(t){
      themeToggle.innerHTML = t==='light' ? '<i class="fa-solid fa-moon"></i>' : '<i class="fa-solid fa-sun"></i>';
    }
    themeToggle.addEventListener('click', ()=>{
      const next = app.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      app.setAttribute('data-theme', next);
      localStorage.setItem('holat_theme', next);
      updateThemeIcon(next);
    });

    /* ========= Initialize ======== */
    renderShorts();
    renderFeed();
    renderWallet();
    saveState();

    /* Auto play top short when visible (simple) */
    shortsWrap.addEventListener('scroll', ()=> {
      const videos = shortsWrap.querySelectorAll('video');
      videos.forEach(v => {
        const r = v.getBoundingClientRect();
        if(r.top >= 0 && r.top < window.innerHeight/2) v.play(); else v.pause();
      });
    });
    // trigger for initial
    shortsWrap.dispatchEvent(new Event('scroll'));
  </script>
</body>
</html>